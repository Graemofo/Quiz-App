
<!doctype html>
<html lang="en">
  <head>

  	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script type="text/javascript">
      function setUp(){
       //  document.getElementById('question_container').style.visibility = 'hidden';
        document.getElementById('true_false_buttons').style.visibility = 'hidden';
      } 
    </script>


    <title>Friday Night Sippy Poos Quiz</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/grid/">

    <script type="text/javascript">
    var count = 1;

    function createTeamRow(){     
        var newDiv = document.createElement('div');
        newDiv.id = 'newDiv';
        newDiv.classList.add('row');
        var attach = document.getElementById('main_container');
        var team = document.getElementById("team_name_field").value;
        newDiv.innerHTML = '<div class="col-sm-4"><h3>'+team+'</h3></div><div class="col-sm-4"><h3 id="team'+count+'_score">0</h3></div><div class="col-sm-4"><button onclick="addOne('+"'team"+count+"_score'"+')" type="button" class="btn btn-outline-light" id="teamButt">+1</button></div>';
         count++;
        attach.appendChild(newDiv);

        var team = document.getElementById("team_name_field").value;
        document.getElementById("team_form").reset();

    }    
    </script>

  </head>

<body onload="setUp();">
<div id="main">

    <div class="container" id="main_container"> 
      <!-- Form to create Teams-->
      <div class="row" id="form">
        <div class="col-sm-4">         
           <form id="team_form">
            <div class="form-group">
              <label>Enter Team Name</label>
              <input class="form-control" id="team_name_field" placeholder="Team Name">
            </div> 
            <button class="btn btn-primary" onclick="createTeamRow();return false">Submit</button>         
          </form>
        </div>
        <div class="col-sm-7"><div class="col-12"><h1>Friday Night Sippy Poos Quiz Night</h1></div> </div>
        <div class="col-sm-1"><button type="button" class="btn btn-outline-light">Start</button></div>
      </div>
    </div> <!-- /container -->


   <div class="container" id="question_container">
      <div class="row">
        <div class="col-sm-10" id="question_div"><h3 id="question"></h3></div>
        <div class="col-sm-2"><button onclick="getData()" type="button" class="btn btn-outline-light">Next Question</button></div>
      </div>

      <div class="row">
        <div class="col-sm-2"><button type="button" class="btn btn-outline-light" id="butt">A</button></div>
        <div class="col-sm-10" id="answer_text"><h4 id="ans1"></h4></div>
      </div>
      <div class="row">
        <div class="col-sm-2"><button type="button" class="btn btn-outline-light" id="butt">B</button></div>
        <div class="col-sm-10"><h4 id="ans2"></h4></div>
      </div>
      <div class="row">
        <div class="col-sm-2"><button type="button" class="btn btn-outline-light" id="butt">C</button></div>
        <div class="col-sm-10"><h4 id="ans3"></h4></div>
      </div>
      <div class="row">
        <div class="col-sm-2"><button type="button" class="btn btn-outline-light" id="butt">D</button></div>
        <div class="col-sm-10"><h4 id="ans4"></h4></div>
      </div>


      <div class="row" id="true_false_buttons">
        <div class="col-sm-6"><h3 id="ans1">True</h3></div>
        <div class="col-sm-6"><h3 id="ans2">False</h3></div>
      </div> 
  </div> <!-- /question_container -->



    <script type="text/javascript">

    	function addOne(team){
         var num = parseInt(document.getElementById(team).innerHTML);
         num = num+1;
         document.getElementById(team).innerHTML = num;
    	}


      function getData(){
      	fetch('https://opentdb.com/api.php?amount=50')
        .then((response) => {
          return response.json();
          
        })
        .then((data) => {
          console.log(data);
          console.log("Question:  "+data.results[0].question)
          var q = data.results[0].question;
          document.getElementById('question').innerHTML = q;
          if(data.results[0].type == "multiple"){
          	document.getElementById('ans1').innerHTML = data.results[0].correct_answer;
          	document.getElementById('ans2').innerHTML = data.results[0].incorrect_answers[0];
          	document.getElementById('ans3').innerHTML = data.results[0].incorrect_answers[1];
          	document.getElementById('ans4').innerHTML = data.results[0].incorrect_answers[2];

      		// document.getElementById('Answer_Buttons').style.visibility = 'visible';
          document.getElementById('true_false_buttons').style.visibility = 'hidden';

          	console.log("Multiple")
          }else if(data.results[0].type == "boolean"){
            document.getElementById('ans1').innerHTML = "";
            document.getElementById('ans2').innerHTML = "";
            document.getElementById('ans3').innerHTML = "";
            document.getElementById('ans4').innerHTML = "";
          	document.getElementById('Answer_Buttons').style.visibility = 'hidden';
            document.getElementById('true_false_buttons').style.visibility = 'visible';
          	console.log("Boolean")
          }
             
        });
      }
    </script>

 </div>
</body>
</html>












